<!DOCTYPE html>

<html>
    <head>
        <meta charset = "utf-8">
        <title>Blog</title>
            <link rel = "stylesheet" type = "text/css" href = "styles1.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
            </script>
            <script>
                $(document).ready(function(){
                  $("#myInputDisplay").on("keyup", function() {
                    var value = $(this).val().toLowerCase();
                    $("#submittedDiv *").filter(function() {
                    $(this).toggle($(this).parent().text().toLowerCase().indexOf(value) > -1)
                    });
                  });
                });
                $(document).ready(function(){
                  $("#myInputHide").on("keyup", function() {
                    var value = $(this).val().toLowerCase();
                    $("#submittedDiv *").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) == -1)
                    });
                  });
                });
            </script>

            <style type="text/css">
                body{
                    margin:0px;
                }
                
                .topnav {
        overflow: hidden;
        background-color:#333;
    }

    .topnav a {
        float: left;
        color: #f2f2f2;
        text-align: center;
        padding: 16px 16px;
        text-decoration: none;
        font-size: 16px;
    }

    .dropdown {
        float: left;
        overflow: hidden;
    }

    .dropdown .dropbtn {
        font-size: 16px;
        border: none;
        outline: none;
        color: #f2f2f2;
        padding: 16px 16px;
        background-color: inherit;
        font-family: inherit;
        margin: 0;
    }

    .topnav a:hover, .dropdown:hover .dropbtn {
        background-color:darkcyan;
        color: black;
    }

    .topnav a.active {
        background-color: #ddd;
        color:black;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

    .dropdown-content a {
        float: none;
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        text-align: left;
    }

    .dropdown-content a:hover {
        background-color: #ddd;
    }

    .dropdown:hover .dropdown-content {
        display: block;
    }
    .contact{
        float:right;
    }

    .title {
    color:rgb(7, 22, 241);
  }


  .boxblogp {
    background-color:#f1f1f1;
    width: 100%;
    color: rgb(74, 13, 240);
    font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-size:xx-large;
    font-style: italic;
    font-weight: bold;
    margin-top: 25px;
}

.blog-f{
    display: block;
    margin: 10px;
    opacity: 80%;
    border: solid 2px rgb(6, 52, 255); 
}

#blog-form{
    display:block;
    width: 30%;
}

.writing{
    margin-top: 10px;
    height: 350px;
    border: solid 2px rgb(0, 0, 0); 
    padding: 30px;
    margin-left: 10px;
    width:330%;
}

#elBlog{
    display:flex;
    margin-top: 50px;
}

#submittedDiv{ 
    background-color: rgb(18, 14, 241);
    padding: 20px;
    width: 30%;
    color: #f1f1f1;
    font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    font-size:large;
    font-style: italic;
    font-weight: bold;
    text-shadow: 2px 2px 4px #000000;
}

#searchDiv{ 
    height: 5%;
    background-color: rgb(11, 14, 236);
    padding: 20px;
    width: 30%;
    margin-bottom: 10px;
}
#SearchSub {
    display: block;
    margin-left: 10px;
    width:330%;
    position: absolute;
}

#submit{
    display:block;
    margin:20px;
}

input{
  opacity: 80%;
  border: solid 2px rgb(2, 27, 107); 
}
button {
  cursor: pointer;
  background-color: rgb(8, 11, 236);
  height: 50px;
  width: 150px;
  color: beige;
  font-weight: bolder;
  text-shadow: 10px;
  font-size: 1.5em;
  text-shadow: 2px 2px 4px #000000;
}
            </style>
    </head>

    <body onload="onLoad()">
        <div class="topnav">
            <a href="Home.html">Home</a>
            <div class="dropdown" >
              <button  class="dropbtn" >Favourites</button>
              <div class="dropdown-content">
                <a href="Music.html">Music</a>
                <a href="TV Shows.html">TV Shows and Movies</a>
              </div>
            </div>
            <a href="Gallery.html">Gallery</a>
            <a href="Poll.html">Poll</a>
            <a href="Blog.html">Blog</a>
            <div class="contact">
            <a href="Contact.html">Contact</a>
          </div>
          </div>

          <div id="elBlog">
                <form id="blog-form" onsubmit="blogPost()">
                  <center><h2 class="boxblogp">What's on your mind?<br></h2></center>
                    <textarea id="blogTxt" class="writing" placeholder="Write about your day"></textarea>
                    <input id="blogAlias" type="text" class="blog-f" name="alias" placeholder="Author">
                    <input id="blogDate" type="date" class="blog-f" name="date-w" value="xxxx-xx-xx" min="2020-01-01"
                        max="2022-12-31">
                    <button id="submit" type="submit">Submit</button>

                <div id="SearchSub">
                    <div id="searchDiv">
                        <input id="myInputDisplay" type="text" placeholder="Search">
                        <input id="myInputHide" type="text" placeholder="Remove searched">
                    </div>

                    <div id="submittedDiv">

                    </div>

                </div></form>
        </div>
        <div>

        </div></body>

        <script>
            const onLoad = () => {
                let arr = []
                arr = JSON.parse(localStorage.getItem('posts')) || [];
                let tempString = "";
                arr.forEach(element => {
                    tempString += element
                    //tempString += "<hr>"
                })
            document.getElementById("submittedDiv").innerHTML = tempString;
            }
            
            function blogPost() {
                event.preventDefault()
                let blogTxt = document.getElementById("blogTxt").value
                let blogAlias = document.getElementById("blogAlias").value
                let blogSbj = document.getElementById("blogSbj").value
                let submittedDiv = document.getElementById("submittedDiv")
                let posts = JSON.parse(localStorage.getItem('posts')) || [];
                let blogDate = document.getElementById("blogDate").value
                
                let htmlString = "<div><h2 id='subject'> Title:" + blogSbj + "</h2>" + 
                '<p id="content" style="word-wrap: break-word;">' + blogTxt + "</p>" + 
                "<p id='ime'> Written by: " + blogAlias + "</p>" + "<p id='date'> Date:" + blogDate + "</p><hr></div>"

                posts.push(htmlString)
                localStorage.setItem('posts', JSON.stringify(posts))
                let newString = "";
                posts.forEach(element => {
                    newString += element
                    //newString += "<hr>"
                });
                submittedDiv.innerHTML = newString
                console.log("posts = " + posts)
            }
            </script>
    </body>
</html>